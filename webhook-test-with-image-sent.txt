âœ… WEBHOOK TEST SENT TO ERIK - WITH HERO IMAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… **Sent:** October 31, 2025
ğŸ¯ **Endpoint:** https://centr.com/api/pageperfect/webhook
ğŸ” **Webhook ID:** 90a96442-89cb-4a2c-bcef-1bb288e48d24

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“¦ EXACT PAYLOAD SENT TO ERIK
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

```json
{
  "guid": "ae1c8678-4178-4fe9-888a-2674af83a959",
  "event": "content_complete",
  "timestamp": "2025-10-31T16:04:XX.XXX",
  "signature": "sha256=...",
  "data": {
    "status": "completed",
    "title": "chris hemsworth gym workout",
    "slug": "chris-hemsworth-gym-workout",
    "client_domain": "centr.com",
    "html_link": "https://jsypctdhynsdqrfifvdh.supabase.co/storage/v1/object/public/blogs/centr.com/ae1c8678-4178-4fe9-888a-2674af83a959.html",
    "google_doc_link": "https://docs.google.com/document/d/1uVwbDZIpazAWHvPZx01bPN0qDKCE7RYs71k-ld_LbhU/edit",
    "seo_keyword": "chris hemsworth gym workout",
    "meta_description": null,
    "hero_image_url": "https://jsypctdhynsdqrfifvdh.supabase.co/storage/v1/object/public/hero-images/714986a2-ec4e-4df5-aa0d-b563509697e1-1761654561091.jpg",
    "live_post_url": null
  }
}
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ–¼ï¸ HERO IMAGE DETAILS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

**Image URL (included in webhook):**
https://jsypctdhynsdqrfifvdh.supabase.co/storage/v1/object/public/hero-images/714986a2-ec4e-4df5-aa0d-b563509697e1-1761654561091.jpg

**Field Location:** 
`payload.data.hero_image_url`

**Status:** 
âœ… Public URL - No authentication required
âœ… Ready to download immediately
âœ… Optimized for web use

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š PAYLOAD DETAILS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â€¢ **Payload Size:** ~850 bytes (with hero_image_url)
â€¢ **Signature:** Included in BOTH header and body
â€¢ **Format:** Compact JSON (no pretty-printing)
â€¢ **Encoding:** UTF-8

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“¤ HEADERS SENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

```
Content-Type: application/json
X-Webhook-Signature: sha256=<hex_hash>
X-Webhook-Event: content_complete
X-Webhook-ID: 90a96442-89cb-4a2c-bcef-1bb288e48d24
X-Webhook-GUID: ae1c8678-4178-4fe9-888a-2674af83a959
X-Webhook-Timestamp: 2025-10-31T16:04:XX.XXX
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… VERIFICATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

**Task Verified:**
âœ… Task ID: ae1c8678-4178-4fe9-888a-2674af83a959
âœ… Title: "chris hemsworth gym workout"
âœ… Hero Image: PRESENT in database
âœ… HTML Content: Uploaded to storage
âœ… Webhook: ACTIVE (domain: centr.com)

**What Erik Can Test:**
1. âœ… Verify webhook received at his endpoint
2. âœ… Validate signature matches
3. âœ… Download HTML from `html_link`
4. âœ… Download hero image from `hero_image_url`
5. âœ… Create blog post with both HTML and image

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ” WHAT ERIK SHOULD SEE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

**In his webhook handler logs:**
- POST request to /api/pageperfect/webhook
- Content-Type: application/json
- Valid X-Webhook-Signature header
- Payload with hero_image_url field

**Data he can use:**
1. **HTML Content:** Fetch from html_link (full article HTML)
2. **Hero Image:** Fetch from hero_image_url (featured image)
3. **Metadata:** title, slug, seo_keyword, meta_description
4. **Links:** google_doc_link (for reference)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ’¡ USAGE EXAMPLE FOR ERIK
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

```javascript
// In his webhook handler
const payload = req.body;

// Validate signature
if (!isValidSignature(payload, req.headers['x-webhook-signature'])) {
  return res.status(403).json({ error: 'Invalid signature' });
}

// Extract the URLs
const { html_link, hero_image_url } = payload.data;

// Fetch the content
const [htmlContent, heroImage] = await Promise.all([
  fetch(html_link).then(r => r.text()),
  hero_image_url ? fetch(hero_image_url).then(r => r.blob()) : null
]);

// Create the blog post in Centr's CMS
await createBlogPost({
  title: payload.data.title,
  slug: payload.data.slug,
  content: htmlContent,
  featuredImage: heroImage,
  keyword: payload.data.seo_keyword
});

res.json({ success: true });
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ‰ READY FOR ERIK TO TEST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

The webhook has been sent! Erik should now see:
âœ… Webhook received at his endpoint
âœ… hero_image_url field in the payload
âœ… Valid signature
âœ… Both HTML and image URLs working

If Erik has any issues or needs adjustments, let us know!

